{
    "sourceFile": "resources/views/pdf/fields.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1762470720238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762472732386,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,5 +42,142 @@\n         </div>\n         <div class=\"template-card\" onclick=\"loadTemplate('full')\">\n             <div class=\"template-icon\">ðŸ“‹</div>\n             <div class=\"template-title\">Full Profile</div>\n-            <div class=\"template-desc\">All common fields</div\n\\ No newline at end of file\n+            <div class=\"template-desc\">All common fields</div>\n+        </div>\n+    </div>\n+\n+    <form action=\"{{ route('pdf.extract') }}\" method=\"POST\">\n+        @csrf\n+        <div id=\"fields-container\">\n+            <div class=\"field-item\">\n+                <div class=\"field-header\">\n+                    <div class=\"field-number\">1</div>\n+                </div>\n+                <div class=\"row g-3\">\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Field Name</label>\n+                        <input type=\"text\" name=\"fields[0][name]\" placeholder=\"e.g., Name\" class=\"modern-input\" required>\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Start Keyword</label>\n+                        <input type=\"text\" name=\"fields[0][start_keyword]\" placeholder=\"e.g., Name:\" class=\"modern-input\">\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">End Keyword (Optional)</label>\n+                        <input type=\"text\" name=\"fields[0][end_keyword]\" placeholder=\"e.g., Age:\" class=\"modern-input\">\n+                    </div>\n+                </div>\n+            </div>\n+        </div>\n+\n+        <div class=\"d-flex gap-3 mt-4\">\n+            <button type=\"button\" id=\"add-field\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-plus\"></i>\n+                Add Field\n+            </button>\n+            <button type=\"submit\" class=\"modern-btn btn-primary-modern\">\n+                <i class=\"fas fa-magic\"></i>\n+                Extract Data\n+            </button>\n+        </div>\n+    </form>\n+</div>\n+\n+<script>\n+    let fieldIndex = 1;\n+\n+    document.getElementById('add-field').addEventListener('click', () => {\n+        const container = document.getElementById('fields-container');\n+        const div = document.createElement('div');\n+        div.className = 'field-item';\n+        div.setAttribute('data-index', fieldIndex);\n+\n+        div.innerHTML = `\n+            <div class=\"field-header\">\n+                <div class=\"field-number\">${fieldIndex + 1}</div>\n+                <button type=\"button\" class=\"remove-field\" onclick=\"removeField(${fieldIndex})\">\n+                    <i class=\"fas fa-times\"></i>\n+                </button>\n+            </div>\n+            <div class=\"row g-3\">\n+                <div class=\"col-md-4\">\n+                    <label class=\"input-label\">Field Name</label>\n+                    <input type=\"text\" name=\"fields[${fieldIndex}][name]\" placeholder=\"e.g., Name\" class=\"modern-input\" required>\n+                </div>\n+                <div class=\"col-md-4\">\n+                    <label class=\"input-label\">Start Keyword</label>\n+                    <input type=\"text\" name=\"fields[${fieldIndex}][start_keyword]\" placeholder=\"e.g., Name:\" class=\"modern-input\">\n+                </div>\n+                <div class=\"col-md-4\">\n+                    <label class=\"input-label\">End Keyword (Optional)</label>\n+                    <input type=\"text\" name=\"fields[${fieldIndex}][end_keyword]\" placeholder=\"e.g., Age:\" class=\"modern-input\">\n+                </div>\n+            </div>\n+        `;\n+\n+        container.appendChild(div);\n+        fieldIndex++;\n+    });\n+\n+    function removeField(index) {\n+        const field = document.querySelector(`[data-index=\"${index}\"]`);\n+        if (field) field.remove();\n+    }\n+\n+    function loadTemplate(type) {\n+        const container = document.getElementById('fields-container');\n+        container.innerHTML = '';\n+        fieldIndex = 0;\n+\n+        const templates = {\n+            personal: [\n+                {name: 'Name', start: 'Name:', end: ''},\n+                {name: 'Age', start: 'Age:', end: ''},\n+                {name: 'Gender', start: 'Gender:', end: ''}\n+            ],\n+            contact: [\n+                {name: 'Name', start: 'Name:', end: ''},\n+                {name: 'Phone', start: 'Phone:', end: ''},\n+                {name: 'Email', start: 'Email:', end: ''}\n+            ],\n+            full: [\n+                {name: 'Name', start: 'Name:', end: ''},\n+                {name: 'Age', start: 'Age:', end: ''},\n+                {name: 'Gender', start: 'Gender:', end: ''},\n+                {name: 'Phone', start: 'Phone:', end: ''},\n+                {name: 'Email', start: 'Email:', end: ''},\n+                {name: 'Address', start: 'Address:', end: ''}\n+            ]\n+        };\n+\n+        templates[type].forEach((field, i) => {\n+            const div = document.createElement('div');\n+            div.className = 'field-item';\n+            div.innerHTML = `\n+                <div class=\"field-header\">\n+                    <div class=\"field-number\">${i + 1}</div>\n+                    ${i > 0 ? `<button type=\"button\" class=\"remove-field\" onclick=\"this.closest('.field-item').remove()\"><i class=\"fas fa-times\"></i></button>` : ''}\n+                </div>\n+                <div class=\"row g-3\">\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Field Name</label>\n+                        <input type=\"text\" name=\"fields[${i}][name]\" value=\"${field.name}\" class=\"modern-input\" required>\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Start Keyword</label>\n+                        <input type=\"text\" name=\"fields[${i}][start_keyword]\" value=\"${field.start}\" class=\"modern-input\">\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">End Keyword (Optional)</label>\n+                        <input type=\"text\" name=\"fields[${i}][end_keyword]\" value=\"${field.end}\" class=\"modern-input\">\n+                    </div>\n+                </div>\n+            `;\n+            container.appendChild(div);\n+        });\n+\n+        fieldIndex = templates[type].length;\n+    }\n+</script>\n+@endsection\n"
                }
            ],
            "date": 1762470720238,
            "name": "Commit-0",
            "content": "@extends('layouts.app')\n\n@section('content')\n<div class=\"container\">\n    <h2 class=\"mb-4\">Define Fields to Extract</h2>\n\n    @if(session('uploaded_pdfs'))\n        <p>Uploaded PDFs:</p>\n        <ul>\n            @foreach (session('uploaded_pdfs') as $pdf)\n                <li>{{ $pdf['original_name'] }} ({{ $pdf['size'] }} bytes)</li>\n            @endforeach\n        </ul>\n    @endif\n\n    <form action=\"{{ route('pdf.extract') }}\" method=\"POST\">\n        @csrf\n\n        <div id=\"fields-container\">\n            <div class=\"field-item mb-3\">\n                <input type=\"text\" name=\"fields[0][name]\" placeholder=\"Field Name (e.g., Title)\" class=\"form-control mb-2\" required>\n                <input type=\"text\" name=\"fields[0][start_keyword]\" placeholder=\"Start Keyword (e.g., Title:)\" class=\"form-control mb-2\">\n                <input type=\"text\" name=\"fields[0][end_keyword]\" placeholder=\"End Keyword (optional)\" class=\"form-control\">\n            </div>\n        </div>\n\n        <button type=\"button\" id=\"add-field\" class=\"btn btn-secondary mt-2\">+ Add Field</button>\n        <button type=\"submit\" class=\"btn btn-primary mt-2\">Extract Data</button>\n    </form>\n</div>\n\n<script>\n    let fieldIndex = 1;\n    document.getElementById('add-field').addEventListener('click', () => {\n        const container = document.getElementById('fields-container');\n        const div = document.createElement('div');\n        div.classList.add('field-item', 'mb-3');\n        div.innerHTML = `\n            <input type=\"text\" name=\"fields[${fieldIndex}][name]\" placeholder=\"Field Name\" class=\"form-control mb-2\" required>\n            <input type=\"text\" name=\"fields[${fieldIndex}][start_keyword]\" placeholder=\"Start Keyword\" class=\"form-control mb-2\">\n            <input type=\"text\" name=\"fields[${fieldIndex}][end_keyword]\" placeholder=\"End Keyword (optional)\" class=\"form-control\">\n        `;\n        container.appendChild(div);\n        fieldIndex++;\n    });\n</script>\n@endsection\n"
        }
    ]
}