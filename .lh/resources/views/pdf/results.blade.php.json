{
    "sourceFile": "resources/views/pdf/results.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1762470733777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762472747486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,183 @@\n @extends('layouts.app')\n \n @section('content')\n-<div class=\"container\">\n-    <h2 class=\"mb-4\">Extracted Data</h2>\n+<div class=\"content-card\">\n+    <h2 class=\"section-title\">\n+        <i class=\"fas fa-tasks\"></i>\n+        Define Fields to Extract\n+    </h2>\n \n-    @if(empty($extractedData) || count($extractedData) === 0)\n-        <div class=\"alert alert-warning\">No data extracted yet.</div>\n-    @else\n-        <table class=\"table table-bordered\">\n-            <thead>\n-                <tr>\n-                    @foreach (array_keys($extractedData[0]) as $header)\n-                        <th>{{ ucfirst($header) }}</th>\n-                    @endforeach\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @foreach ($extractedData as $row)\n-                    <tr>\n-                        @foreach ($row as $cell)\n-                            <td>{{ $cell }}</td>\n-                        @endforeach\n-                    </tr>\n-                @endforeach\n-            </tbody>\n-        </table>\n+    @if(session('uploaded_pdfs'))\n+        <div class=\"file-list mb-4\">\n+            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n+                <i class=\"fas fa-check-circle\" style=\"color: var(--success);\"></i> Uploaded Files\n+            </h5>\n+            @foreach(session('uploaded_pdfs') as $pdf)\n+                <div class=\"file-item\">\n+                    <div class=\"file-icon\">\n+                        <i class=\"fas fa-file-pdf\"></i>\n+                    </div>\n+                    <div class=\"file-info\">\n+                        <div class=\"file-name\">{{ $pdf['original_name'] }}</div>\n+                        <div class=\"file-size\">{{ number_format($pdf['size'] / 1024, 2) }} KB</div>\n+                    </div>\n+                </div>\n+            @endforeach\n+        </div>\n+    @endif\n \n-        <a href=\"{{ route('pdf.export') }}\" class=\"btn btn-success mt-3\">Export to CSV</a>\n-    @endif\n+    <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n+        <i class=\"fas fa-bolt\" style=\"color: var(--warning);\"></i> Quick Templates\n+    </h5>\n+    <div class=\"template-grid\">\n+        <div class=\"template-card\" onclick=\"loadTemplate('personal')\">\n+            <div class=\"template-icon\">üë§</div>\n+            <div class=\"template-title\">Personal Info</div>\n+            <div class=\"template-desc\">Name, Age, Gender</div>\n+        </div>\n+        <div class=\"template-card\" onclick=\"loadTemplate('contact')\">\n+            <div class=\"template-icon\">üìû</div>\n+            <div class=\"template-title\">Contact Info</div>\n+            <div class=\"template-desc\">Name, Phone, Email</div>\n+        </div>\n+        <div class=\"template-card\" onclick=\"loadTemplate('full')\">\n+            <div class=\"template-icon\">üìã</div>\n+            <div class=\"template-title\">Full Profile</div>\n+            <div class=\"template-desc\">All common fields</div>\n+        </div>\n+    </div>\n+\n+    <form action=\"{{ route('pdf.extract') }}\" method=\"POST\">\n+        @csrf\n+        <div id=\"fields-container\">\n+            <div class=\"field-item\">\n+                <div class=\"field-header\">\n+                    <div class=\"field-number\">1</div>\n+                </div>\n+                <div class=\"row g-3\">\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Field Name</label>\n+                        <input type=\"text\" name=\"fields[0][name]\" placeholder=\"e.g., Name\" class=\"modern-input\" required>\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Start Keyword</label>\n+                        <input type=\"text\" name=\"fields[0][start_keyword]\" placeholder=\"e.g., Name:\" class=\"modern-input\">\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">End Keyword (Optional)</label>\n+                        <input type=\"text\" name=\"fields[0][end_keyword]\" placeholder=\"e.g., Age:\" class=\"modern-input\">\n+                    </div>\n+                </div>\n+            </div>\n+        </div>\n+\n+        <div class=\"d-flex gap-3 mt-4\">\n+            <button type=\"button\" id=\"add-field\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-plus\"></i>\n+                Add Field\n+            </button>\n+            <button type=\"submit\" class=\"modern-btn btn-primary-modern\">\n+                <i class=\"fas fa-magic\"></i>\n+                Extract Data\n+            </button>\n+        </div>\n+    </form>\n </div>\n+\n+<script>\n+    let fieldIndex = 1;\n+\n+    document.getElementById('add-field').addEventListener('click', () => {\n+        const container = document.getElementById('fields-container');\n+        const div = document.createElement('div');\n+        div.className = 'field-item';\n+        div.setAttribute('data-index', fieldIndex);\n+\n+        div.innerHTML = `\n+            <div class=\"field-header\">\n+                <div class=\"field-number\">${fieldIndex + 1}</div>\n+                <button type=\"button\" class=\"remove-field\" onclick=\"removeField(${fieldIndex})\">\n+                    <i class=\"fas fa-times\"></i>\n+                </button>\n+            </div>\n+            <div class=\"row g-3\">\n+                <div class=\"col-md-4\">\n+                    <label class=\"input-label\">Field Name</label>\n+                    <input type=\"text\" name=\"fields[${fieldIndex}][name]\" placeholder=\"e.g., Name\" class=\"modern-input\" required>\n+                </div>\n+                <div class=\"col-md-4\">\n+                    <label class=\"input-label\">Start Keyword</label>\n+                    <input type=\"text\" name=\"fields[${fieldIndex}][start_keyword]\" placeholder=\"e.g., Name:\" class=\"modern-input\">\n+                </div>\n+                <div class=\"col-md-4\">\n+                    <label class=\"input-label\">End Keyword (Optional)</label>\n+                    <input type=\"text\" name=\"fields[${fieldIndex}][end_keyword]\" placeholder=\"e.g., Age:\" class=\"modern-input\">\n+                </div>\n+            </div>\n+        `;\n+\n+        container.appendChild(div);\n+        fieldIndex++;\n+    });\n+\n+    function removeField(index) {\n+        const field = document.querySelector(`[data-index=\"${index}\"]`);\n+        if (field) field.remove();\n+    }\n+\n+    function loadTemplate(type) {\n+        const container = document.getElementById('fields-container');\n+        container.innerHTML = '';\n+        fieldIndex = 0;\n+\n+        const templates = {\n+            personal: [\n+                {name: 'Name', start: 'Name:', end: ''},\n+                {name: 'Age', start: 'Age:', end: ''},\n+                {name: 'Gender', start: 'Gender:', end: ''}\n+            ],\n+            contact: [\n+                {name: 'Name', start: 'Name:', end: ''},\n+                {name: 'Phone', start: 'Phone:', end: ''},\n+                {name: 'Email', start: 'Email:', end: ''}\n+            ],\n+            full: [\n+                {name: 'Name', start: 'Name:', end: ''},\n+                {name: 'Age', start: 'Age:', end: ''},\n+                {name: 'Gender', start: 'Gender:', end: ''},\n+                {name: 'Phone', start: 'Phone:', end: ''},\n+                {name: 'Email', start: 'Email:', end: ''},\n+                {name: 'Address', start: 'Address:', end: ''}\n+            ]\n+        };\n+\n+        templates[type].forEach((field, i) => {\n+            const div = document.createElement('div');\n+            div.className = 'field-item';\n+            div.innerHTML = `\n+                <div class=\"field-header\">\n+                    <div class=\"field-number\">${i + 1}</div>\n+                    ${i > 0 ? `<button type=\"button\" class=\"remove-field\" onclick=\"this.closest('.field-item').remove()\"><i class=\"fas fa-times\"></i></button>` : ''}\n+                </div>\n+                <div class=\"row g-3\">\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Field Name</label>\n+                        <input type=\"text\" name=\"fields[${i}][name]\" value=\"${field.name}\" class=\"modern-input\" required>\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">Start Keyword</label>\n+                        <input type=\"text\" name=\"fields[${i}][start_keyword]\" value=\"${field.start}\" class=\"modern-input\">\n+                    </div>\n+                    <div class=\"col-md-4\">\n+                        <label class=\"input-label\">End Keyword (Optional)</label>\n+                        <input type=\"text\" name=\"fields[${i}][end_keyword]\" value=\"${field.end}\" class=\"modern-input\">\n+                    </div>\n+                </div>\n+            `;\n+            container.appendChild(div);\n+        });\n+\n+        fieldIndex = templates[type].length;\n+    }\n+</script>\n @endsection\n"
                },
                {
                    "date": 1762473009483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,182 +2,56 @@\n \n @section('content')\n <div class=\"content-card\">\n     <h2 class=\"section-title\">\n-        <i class=\"fas fa-tasks\"></i>\n-        Define Fields to Extract\n+        <i class=\"fas fa-table\"></i>\n+        Extracted Data\n     </h2>\n \n-    @if(session('uploaded_pdfs'))\n-        <div class=\"file-list mb-4\">\n-            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n-                <i class=\"fas fa-check-circle\" style=\"color: var(--success);\"></i> Uploaded Files\n-            </h5>\n-            @foreach(session('uploaded_pdfs') as $pdf)\n-                <div class=\"file-item\">\n-                    <div class=\"file-icon\">\n-                        <i class=\"fas fa-file-pdf\"></i>\n-                    </div>\n-                    <div class=\"file-info\">\n-                        <div class=\"file-name\">{{ $pdf['original_name'] }}</div>\n-                        <div class=\"file-size\">{{ number_format($pdf['size'] / 1024, 2) }} KB</div>\n-                    </div>\n-                </div>\n-            @endforeach\n+    @if(empty($extractedData) || count($extractedData) === 0)\n+        <div class=\"modern-alert alert-danger\">\n+            <i class=\"fas fa-exclamation-circle\"></i>\n+            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n         </div>\n-    @endif\n-\n-    <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n-        <i class=\"fas fa-bolt\" style=\"color: var(--warning);\"></i> Quick Templates\n-    </h5>\n-    <div class=\"template-grid\">\n-        <div class=\"template-card\" onclick=\"loadTemplate('personal')\">\n-            <div class=\"template-icon\">üë§</div>\n-            <div class=\"template-title\">Personal Info</div>\n-            <div class=\"template-desc\">Name, Age, Gender</div>\n+    @else\n+        <div class=\"modern-table\">\n+            <table>\n+                <thead>\n+                    <tr>\n+                        @foreach(array_keys($extractedData[0]) as $header)\n+                            <th>{{ ucfirst($header) }}</th>\n+                        @endforeach\n+                    </tr>\n+                </thead>\n+                <tbody>\n+                    @foreach($extractedData as $row)\n+                        <tr>\n+                            @foreach($row as $key => $cell)\n+                                <td>\n+                                    @if($key === 'status')\n+                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n+                                            {{ $cell }}\n+                                        </span>\n+                                    @else\n+                                        {{ $cell }}\n+                                    @endif\n+                                </td>\n+                            @endforeach\n+                        </tr>\n+                    @endforeach\n+                </tbody>\n+            </table>\n         </div>\n-        <div class=\"template-card\" onclick=\"loadTemplate('contact')\">\n-            <div class=\"template-icon\">üìû</div>\n-            <div class=\"template-title\">Contact Info</div>\n-            <div class=\"template-desc\">Name, Phone, Email</div>\n-        </div>\n-        <div class=\"template-card\" onclick=\"loadTemplate('full')\">\n-            <div class=\"template-icon\">üìã</div>\n-            <div class=\"template-title\">Full Profile</div>\n-            <div class=\"template-desc\">All common fields</div>\n-        </div>\n-    </div>\n \n-    <form action=\"{{ route('pdf.extract') }}\" method=\"POST\">\n-        @csrf\n-        <div id=\"fields-container\">\n-            <div class=\"field-item\">\n-                <div class=\"field-header\">\n-                    <div class=\"field-number\">1</div>\n-                </div>\n-                <div class=\"row g-3\">\n-                    <div class=\"col-md-4\">\n-                        <label class=\"input-label\">Field Name</label>\n-                        <input type=\"text\" name=\"fields[0][name]\" placeholder=\"e.g., Name\" class=\"modern-input\" required>\n-                    </div>\n-                    <div class=\"col-md-4\">\n-                        <label class=\"input-label\">Start Keyword</label>\n-                        <input type=\"text\" name=\"fields[0][start_keyword]\" placeholder=\"e.g., Name:\" class=\"modern-input\">\n-                    </div>\n-                    <div class=\"col-md-4\">\n-                        <label class=\"input-label\">End Keyword (Optional)</label>\n-                        <input type=\"text\" name=\"fields[0][end_keyword]\" placeholder=\"e.g., Age:\" class=\"modern-input\">\n-                    </div>\n-                </div>\n-            </div>\n+        <div class=\"d-flex gap-3\">\n+            <a href=\"{{ route('pdf.export') }}\" class=\"modern-btn btn-success-modern\">\n+                <i class=\"fas fa-download\"></i>\n+                Export to CSV\n+            </a>\n+            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-redo\"></i>\n+                Start Over\n+            </a>\n         </div>\n-\n-        <div class=\"d-flex gap-3 mt-4\">\n-            <button type=\"button\" id=\"add-field\" class=\"modern-btn btn-secondary-modern\">\n-                <i class=\"fas fa-plus\"></i>\n-                Add Field\n-            </button>\n-            <button type=\"submit\" class=\"modern-btn btn-primary-modern\">\n-                <i class=\"fas fa-magic\"></i>\n-                Extract Data\n-            </button>\n-        </div>\n-    </form>\n+    @endif\n </div>\n-\n-<script>\n-    let fieldIndex = 1;\n-\n-    document.getElementById('add-field').addEventListener('click', () => {\n-        const container = document.getElementById('fields-container');\n-        const div = document.createElement('div');\n-        div.className = 'field-item';\n-        div.setAttribute('data-index', fieldIndex);\n-\n-        div.innerHTML = `\n-            <div class=\"field-header\">\n-                <div class=\"field-number\">${fieldIndex + 1}</div>\n-                <button type=\"button\" class=\"remove-field\" onclick=\"removeField(${fieldIndex})\">\n-                    <i class=\"fas fa-times\"></i>\n-                </button>\n-            </div>\n-            <div class=\"row g-3\">\n-                <div class=\"col-md-4\">\n-                    <label class=\"input-label\">Field Name</label>\n-                    <input type=\"text\" name=\"fields[${fieldIndex}][name]\" placeholder=\"e.g., Name\" class=\"modern-input\" required>\n-                </div>\n-                <div class=\"col-md-4\">\n-                    <label class=\"input-label\">Start Keyword</label>\n-                    <input type=\"text\" name=\"fields[${fieldIndex}][start_keyword]\" placeholder=\"e.g., Name:\" class=\"modern-input\">\n-                </div>\n-                <div class=\"col-md-4\">\n-                    <label class=\"input-label\">End Keyword (Optional)</label>\n-                    <input type=\"text\" name=\"fields[${fieldIndex}][end_keyword]\" placeholder=\"e.g., Age:\" class=\"modern-input\">\n-                </div>\n-            </div>\n-        `;\n-\n-        container.appendChild(div);\n-        fieldIndex++;\n-    });\n-\n-    function removeField(index) {\n-        const field = document.querySelector(`[data-index=\"${index}\"]`);\n-        if (field) field.remove();\n-    }\n-\n-    function loadTemplate(type) {\n-        const container = document.getElementById('fields-container');\n-        container.innerHTML = '';\n-        fieldIndex = 0;\n-\n-        const templates = {\n-            personal: [\n-                {name: 'Name', start: 'Name:', end: ''},\n-                {name: 'Age', start: 'Age:', end: ''},\n-                {name: 'Gender', start: 'Gender:', end: ''}\n-            ],\n-            contact: [\n-                {name: 'Name', start: 'Name:', end: ''},\n-                {name: 'Phone', start: 'Phone:', end: ''},\n-                {name: 'Email', start: 'Email:', end: ''}\n-            ],\n-            full: [\n-                {name: 'Name', start: 'Name:', end: ''},\n-                {name: 'Age', start: 'Age:', end: ''},\n-                {name: 'Gender', start: 'Gender:', end: ''},\n-                {name: 'Phone', start: 'Phone:', end: ''},\n-                {name: 'Email', start: 'Email:', end: ''},\n-                {name: 'Address', start: 'Address:', end: ''}\n-            ]\n-        };\n-\n-        templates[type].forEach((field, i) => {\n-            const div = document.createElement('div');\n-            div.className = 'field-item';\n-            div.innerHTML = `\n-                <div class=\"field-header\">\n-                    <div class=\"field-number\">${i + 1}</div>\n-                    ${i > 0 ? `<button type=\"button\" class=\"remove-field\" onclick=\"this.closest('.field-item').remove()\"><i class=\"fas fa-times\"></i></button>` : ''}\n-                </div>\n-                <div class=\"row g-3\">\n-                    <div class=\"col-md-4\">\n-                        <label class=\"input-label\">Field Name</label>\n-                        <input type=\"text\" name=\"fields[${i}][name]\" value=\"${field.name}\" class=\"modern-input\" required>\n-                    </div>\n-                    <div class=\"col-md-4\">\n-                        <label class=\"input-label\">Start Keyword</label>\n-                        <input type=\"text\" name=\"fields[${i}][start_keyword]\" value=\"${field.start}\" class=\"modern-input\">\n-                    </div>\n-                    <div class=\"col-md-4\">\n-                        <label class=\"input-label\">End Keyword (Optional)</label>\n-                        <input type=\"text\" name=\"fields[${i}][end_keyword]\" value=\"${field.end}\" class=\"modern-input\">\n-                    </div>\n-                </div>\n-            `;\n-            container.appendChild(div);\n-        });\n-\n-        fieldIndex = templates[type].length;\n-    }\n-</script>\n-@endsection\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762475500358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,17 +41,104 @@\n                 </tbody>\n             </table>\n         </div>\n \n+        <!-- Export Options -->\n+        <div class=\"export-options\">\n+            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n+                <i class=\"fas fa-file-export\"></i> Export Options\n+            </h5>\n+            \n+            <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n+                <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n+                    <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n+                    <label for=\"export-new\">\n+                        <div class=\"export-option-title\">\n+                            <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n+                            Create New CSV File\n+                        </div>\n+                        <div class=\"export-option-desc\">\n+                            Generate a new CSV file with extracted data\n+                        </div>\n+                    </label>\n+                </div>\n+\n+                <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n+                    <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n+                    <label for=\"export-existing\">\n+                        <div class=\"export-option-title\">\n+                            <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n+                            Append to Existing Excel/CSV\n+                        </div>\n+                        <div class=\"export-option-desc\">\n+                            Add data to an existing Excel or CSV file\n+                        </div>\n+                    </label>\n+                </div>\n+\n+                <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n+                    <label class=\"input-label\">Select Existing File</label>\n+                    <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n+                           accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n+                    <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n+                        <i class=\"fas fa-info-circle\"></i> \n+                        Supported formats: CSV, Excel (.xlsx, .xls)\n+                    </small>\n+                </div>\n+            </form>\n+        </div>\n+\n         <div class=\"d-flex gap-3\">\n-            <a href=\"{{ route('pdf.export') }}\" class=\"modern-btn btn-success-modern\">\n+            <button onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n                 <i class=\"fas fa-download\"></i>\n-                Export to CSV\n-            </a>\n+                Export Data\n+            </button>\n             <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n                 <i class=\"fas fa-redo\"></i>\n                 Start Over\n             </a>\n         </div>\n     @endif\n </div>\n+\n+<script>\n+    function selectExportOption(type) {\n+        document.getElementById('export-' + type).checked = true;\n+        \n+        const fileUploadSection = document.getElementById('file-upload-section');\n+        if (type === 'existing') {\n+            fileUploadSection.style.display = 'block';\n+        } else {\n+            fileUploadSection.style.display = 'none';\n+        }\n+    }\n+\n+    function exportData() {\n+        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n+        const form = document.getElementById('export-form');\n+        \n+        if (exportType === 'existing') {\n+            const fileInput = document.getElementById('existing-file');\n+            if (!fileInput.files.length) {\n+                alert('Please select an existing file to append data to!');\n+                return;\n+            }\n+            \n+            // Handle existing file upload\n+            form.action = \"{{ route('pdf.export') }}?type=existing\";\n+            form.method = \"POST\";\n+            \n+            // Add CSRF token\n+            const csrfInput = document.createElement('input');\n+            csrfInput.type = 'hidden';\n+            csrfInput.name = '_token';\n+            csrfInput.value = '{{ csrf_token() }}';\n+            form.appendChild(csrfInput);\n+            \n+            form.submit();\n+        } else {\n+            // Create new file\n+            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n+        }\n+    }\n+</script>\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762475507324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,141 @@\n+@extends('layouts.app')\n+\n+@section('content')\n+<div class=\"content-card\">\n+    <h2 class=\"section-title\">\n+        <i class=\"fas fa-table\"></i>\n+        Extracted Data\n+    </h2>\n+\n+    @if(empty($extractedData) || count($extractedData) === 0)\n+        <div class=\"modern-alert alert-danger\">\n+            <i class=\"fas fa-exclamation-circle\"></i>\n+            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n+        </div>\n+    @else\n+        <div class=\"modern-table\">\n+            <table>\n+                <thead>\n+                    <tr>\n+                        @foreach(array_keys($extractedData[0]) as $header)\n+                            <th>{{ ucfirst($header) }}</th>\n+                        @endforeach\n+                    </tr>\n+                </thead>\n+                <tbody>\n+                    @foreach($extractedData as $row)\n+                        <tr>\n+                            @foreach($row as $key => $cell)\n+                                <td>\n+                                    @if($key === 'status')\n+                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n+                                            {{ $cell }}\n+                                        </span>\n+                                    @else\n+                                        {{ $cell }}\n+                                    @endif\n+                                </td>\n+                            @endforeach\n+                        </tr>\n+                    @endforeach\n+                </tbody>\n+            </table>\n+        </div>\n+\n+        <!-- Export Options -->\n+        <div class=\"export-options\">\n+            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n+                <i class=\"fas fa-file-export\"></i> Export Options\n+            </h5>\n+            \n+            <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n+                <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n+                    <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n+                    <label for=\"export-new\">\n+                        <div class=\"export-option-title\">\n+                            <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n+                            Create New CSV File\n+                        </div>\n+                        <div class=\"export-option-desc\">\n+                            Generate a new CSV file with extracted data\n+                        </div>\n+                    </label>\n+                </div>\n+\n+                <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n+                    <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n+                    <label for=\"export-existing\">\n+                        <div class=\"export-option-title\">\n+                            <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n+                            Append to Existing Excel/CSV\n+                        </div>\n+                        <div class=\"export-option-desc\">\n+                            Add data to an existing Excel or CSV file\n+                        </div>\n+                    </label>\n+                </div>\n+\n+                <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n+                    <label class=\"input-label\">Select Existing File</label>\n+                    <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n+                           accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n+                    <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n+                        <i class=\"fas fa-info-circle\"></i> \n+                        Supported formats: CSV, Excel (.xlsx, .xls)\n+                    </small>\n+                </div>\n+            </form>\n+        </div>\n+\n+        <div class=\"d-flex gap-3\">\n+            <button onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n+                <i class=\"fas fa-download\"></i>\n+                Export Data\n+            </button>\n+            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-redo\"></i>\n+                Start Over\n+            </a>\n+        </div>\n+    @endif\n+</div>\n+\n+<script>\n+    function selectExportOption(type) {\n+        document.getElementById('export-' + type).checked = true;\n+        \n+        const fileUploadSection = document.getElementById('file-upload-section');\n+        if (type === 'existing') {\n+            fileUploadSection.style.display = 'block';\n+        } else {\n+            fileUploadSection.style.display = 'none';\n+        }\n+    }\n+\n+    function exportData() {\n+        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n+        const form = document.getElementById('export-form');\n+        \n+        if (exportType === 'existing') {\n+            const fileInput = document.getElementById('existing-file');\n+            if (!fileInput.files.length) {\n+                alert('Please select an existing file to append data to!');\n+                return;\n+            }\n+            \n+            form.action = \"{{ route('pdf.export') }}?type=existing\";\n+            form.method = \"POST\";\n+            \n+            const csrfInput = document.createElement('input');\n+            csrfInput.type = 'hidden';\n+            csrfInput.name = '_token';\n+            csrfInput.value = '{{ csrf_token() }}';\n+            form.appendChild(csrfInput);\n+            \n+            form.submit();\n+        } else {\n+            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n+        }\n+    }\n+</script>\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762475514279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,8 @@\n                 </tbody>\n             </table>\n         </div>\n \n-        <!-- Export Options -->\n         <div class=\"export-options\">\n             <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n                 <i class=\"fas fa-file-export\"></i> Export Options\n             </h5>\n@@ -137,149 +136,5 @@\n             window.location.href = \"{{ route('pdf.export') }}?type=new\";\n         }\n     }\n </script>\n-@endsection\n-@extends('layouts.app')\n-\n-@section('content')\n-<div class=\"content-card\">\n-    <h2 class=\"section-title\">\n-        <i class=\"fas fa-table\"></i>\n-        Extracted Data\n-    </h2>\n-\n-    @if(empty($extractedData) || count($extractedData) === 0)\n-        <div class=\"modern-alert alert-danger\">\n-            <i class=\"fas fa-exclamation-circle\"></i>\n-            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n-        </div>\n-    @else\n-        <div class=\"modern-table\">\n-            <table>\n-                <thead>\n-                    <tr>\n-                        @foreach(array_keys($extractedData[0]) as $header)\n-                            <th>{{ ucfirst($header) }}</th>\n-                        @endforeach\n-                    </tr>\n-                </thead>\n-                <tbody>\n-                    @foreach($extractedData as $row)\n-                        <tr>\n-                            @foreach($row as $key => $cell)\n-                                <td>\n-                                    @if($key === 'status')\n-                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n-                                            {{ $cell }}\n-                                        </span>\n-                                    @else\n-                                        {{ $cell }}\n-                                    @endif\n-                                </td>\n-                            @endforeach\n-                        </tr>\n-                    @endforeach\n-                </tbody>\n-            </table>\n-        </div>\n-\n-        <!-- Export Options -->\n-        <div class=\"export-options\">\n-            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n-                <i class=\"fas fa-file-export\"></i> Export Options\n-            </h5>\n-            \n-            <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n-                <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n-                    <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n-                    <label for=\"export-new\">\n-                        <div class=\"export-option-title\">\n-                            <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n-                            Create New CSV File\n-                        </div>\n-                        <div class=\"export-option-desc\">\n-                            Generate a new CSV file with extracted data\n-                        </div>\n-                    </label>\n-                </div>\n-\n-                <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n-                    <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n-                    <label for=\"export-existing\">\n-                        <div class=\"export-option-title\">\n-                            <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n-                            Append to Existing Excel/CSV\n-                        </div>\n-                        <div class=\"export-option-desc\">\n-                            Add data to an existing Excel or CSV file\n-                        </div>\n-                    </label>\n-                </div>\n-\n-                <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n-                    <label class=\"input-label\">Select Existing File</label>\n-                    <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n-                           accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n-                    <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n-                        <i class=\"fas fa-info-circle\"></i> \n-                        Supported formats: CSV, Excel (.xlsx, .xls)\n-                    </small>\n-                </div>\n-            </form>\n-        </div>\n-\n-        <div class=\"d-flex gap-3\">\n-            <button onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n-                <i class=\"fas fa-download\"></i>\n-                Export Data\n-            </button>\n-            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n-                <i class=\"fas fa-redo\"></i>\n-                Start Over\n-            </a>\n-        </div>\n-    @endif\n-</div>\n-\n-<script>\n-    function selectExportOption(type) {\n-        document.getElementById('export-' + type).checked = true;\n-        \n-        const fileUploadSection = document.getElementById('file-upload-section');\n-        if (type === 'existing') {\n-            fileUploadSection.style.display = 'block';\n-        } else {\n-            fileUploadSection.style.display = 'none';\n-        }\n-    }\n-\n-    function exportData() {\n-        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n-        const form = document.getElementById('export-form');\n-        \n-        if (exportType === 'existing') {\n-            const fileInput = document.getElementById('existing-file');\n-            if (!fileInput.files.length) {\n-                alert('Please select an existing file to append data to!');\n-                return;\n-            }\n-            \n-            // Handle existing file upload\n-            form.action = \"{{ route('pdf.export') }}?type=existing\";\n-            form.method = \"POST\";\n-            \n-            // Add CSRF token\n-            const csrfInput = document.createElement('input');\n-            csrfInput.type = 'hidden';\n-            csrfInput.name = '_token';\n-            csrfInput.value = '{{ csrf_token() }}';\n-            form.appendChild(csrfInput);\n-            \n-            form.submit();\n-        } else {\n-            // Create new file\n-            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n-        }\n-    }\n-</script>\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762476222759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n             form.appendChild(csrfInput);\n             \n             form.submit();\n         } else {\n-            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n+            window.location.href = \"{{ route(''pdf.extract'') }}?type=new\";\n         }\n     }\n </script>\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762476258044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,140 @@\n+@extends('layouts.app')\n+\n+@section('content')\n+<div class=\"content-card\">\n+    <h2 class=\"section-title\">\n+        <i class=\"fas fa-table\"></i>\n+        Extracted Data\n+    </h2>\n+\n+    @if(empty($extractedData) || count($extractedData) === 0)\n+        <div class=\"modern-alert alert-danger\">\n+            <i class=\"fas fa-exclamation-circle\"></i>\n+            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n+        </div>\n+    @else\n+        <div class=\"modern-table\">\n+            <table>\n+                <thead>\n+                    <tr>\n+                        @foreach(array_keys($extractedData[0]) as $header)\n+                            <th>{{ ucfirst($header) }}</th>\n+                        @endforeach\n+                    </tr>\n+                </thead>\n+                <tbody>\n+                    @foreach($extractedData as $row)\n+                        <tr>\n+                            @foreach($row as $key => $cell)\n+                                <td>\n+                                    @if($key === 'status')\n+                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n+                                            {{ $cell }}\n+                                        </span>\n+                                    @else\n+                                        {{ $cell }}\n+                                    @endif\n+                                </td>\n+                            @endforeach\n+                        </tr>\n+                    @endforeach\n+                </tbody>\n+            </table>\n+        </div>\n+\n+        <div class=\"export-options\">\n+            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n+                <i class=\"fas fa-file-export\"></i> Export Options\n+            </h5>\n+            \n+            <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n+                <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n+                    <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n+                    <label for=\"export-new\">\n+                        <div class=\"export-option-title\">\n+                            <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n+                            Create New CSV File\n+                        </div>\n+                        <div class=\"export-option-desc\">\n+                            Generate a new CSV file with extracted data\n+                        </div>\n+                    </label>\n+                </div>\n+\n+                <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n+                    <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n+                    <label for=\"export-existing\">\n+                        <div class=\"export-option-title\">\n+                            <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n+                            Append to Existing Excel/CSV\n+                        </div>\n+                        <div class=\"export-option-desc\">\n+                            Add data to an existing Excel or CSV file\n+                        </div>\n+                    </label>\n+                </div>\n+\n+                <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n+                    <label class=\"input-label\">Select Existing File</label>\n+                    <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n+                           accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n+                    <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n+                        <i class=\"fas fa-info-circle\"></i> \n+                        Supported formats: CSV, Excel (.xlsx, .xls)\n+                    </small>\n+                </div>\n+            </form>\n+        </div>\n+\n+        <div class=\"d-flex gap-3\">\n+            <button onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n+                <i class=\"fas fa-download\"></i>\n+                Export Data\n+            </button>\n+            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-redo\"></i>\n+                Start Over\n+            </a>\n+        </div>\n+    @endif\n+</div>\n+\n+<script>\n+    function selectExportOption(type) {\n+        document.getElementById('export-' + type).checked = true;\n+        \n+        const fileUploadSection = document.getElementById('file-upload-section');\n+        if (type === 'existing') {\n+            fileUploadSection.style.display = 'block';\n+        } else {\n+            fileUploadSection.style.display = 'none';\n+        }\n+    }\n+\n+    function exportData() {\n+        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n+        const form = document.getElementById('export-form');\n+        \n+        if (exportType === 'existing') {\n+            const fileInput = document.getElementById('existing-file');\n+            if (!fileInput.files.length) {\n+                alert('Please select an existing file to append data to!');\n+                return;\n+            }\n+            \n+            form.action = \"{{ route('pdf.export') }}?type=existing\";\n+            form.method = \"POST\";\n+            \n+            const csrfInput = document.createElement('input');\n+            csrfInput.type = 'hidden';\n+            csrfInput.name = '_token';\n+            csrfInput.value = '{{ csrf_token() }}';\n+            form.appendChild(csrfInput);\n+            \n+            form.submit();\n+        } else {\n+            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n+        }\n+    }\n+</script>\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762477187495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,158 +99,60 @@\n     @endif\n </div>\n \n <script>\n-    function selectExportOption(type) {\n-        document.getElementById('export-' + type).checked = true;\n-        \n-        const fileUploadSection = document.getElementById('file-upload-section');\n-        if (type === 'existing') {\n-            fileUploadSection.style.display = 'block';\n-        } else {\n-            fileUploadSection.style.display = 'none';\n-        }\n+ function selectExportOption(type) {\n+    document.getElementById('export-' + type).checked = true;\n+    \n+    const fileUploadSection = document.getElementById('file-upload-section');\n+    if (type === 'existing') {\n+        fileUploadSection.style.display = 'block';\n+    } else {\n+        fileUploadSection.style.display = 'none';\n     }\n+}\n \n-    function exportData() {\n-        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n-        const form = document.getElementById('export-form');\n+function exportData() {\n+    const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n+    const form = document.getElementById('export-form');\n+    \n+    if (exportType === 'existing') {\n+        const fileInput = document.getElementById('existing-file');\n+        if (!fileInput.files.length) {\n+            alert('Please select an existing file to append data to!');\n+            return;\n+        }\n         \n-        if (exportType === 'existing') {\n-            const fileInput = document.getElementById('existing-file');\n-            if (!fileInput.files.length) {\n-                alert('Please select an existing file to append data to!');\n-                return;\n-            }\n-            \n-            form.action = \"{{ route('pdf.export') }}?type=existing\";\n-            form.method = \"POST\";\n-            \n+        // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÄ form ŸÑŸÑŸÄ POST\n+        form.action = \"{{ route('pdf.export') }}\";\n+        form.method = \"POST\";\n+        form.enctype = \"multipart/form-data\";\n+        \n+        // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n+        if (!form.querySelector('input[name=\"_token\"]')) {\n             const csrfInput = document.createElement('input');\n             csrfInput.type = 'hidden';\n             csrfInput.name = '_token';\n             csrfInput.value = '{{ csrf_token() }}';\n             form.appendChild(csrfInput);\n-            \n-            form.submit();\n-        } else {\n-            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n         }\n-    }\n-</script>\n-@endsection\n-@extends('layouts.app')\n-\n-@section('content')\n-<div class=\"content-card\">\n-    <h2 class=\"section-title\">\n-        <i class=\"fas fa-table\"></i>\n-        Extracted Data\n-    </h2>\n-\n-    @if(empty($extractedData) || count($extractedData) === 0)\n-        <div class=\"modern-alert alert-danger\">\n-            <i class=\"fas fa-exclamation-circle\"></i>\n-            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n-        </div>\n-    @else\n-        <div class=\"modern-table\">\n-            <table>\n-                <thead>\n-                    <tr>\n-                        @foreach(array_keys($extractedData[0]) as $header)\n-                            <th>{{ ucfirst($header) }}</th>\n-                        @endforeach\n-                    </tr>\n-                </thead>\n-                <tbody>\n-                    @foreach($extractedData as $row)\n-                        <tr>\n-                            @foreach($row as $key => $cell)\n-                                <td>\n-                                    @if($key === 'status')\n-                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n-                                            {{ $cell }}\n-                                        </span>\n-                                    @else\n-                                        {{ $cell }}\n-                                    @endif\n-                                </td>\n-                            @endforeach\n-                        </tr>\n-                    @endforeach\n-                </tbody>\n-            </table>\n-        </div>\n-\n-        <div class=\"export-options\">\n-            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n-                <i class=\"fas fa-file-export\"></i> Export Options\n-            </h5>\n-            \n-            <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n-                <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n-                    <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n-                    <label for=\"export-new\">\n-                        <div class=\"export-option-title\">\n-                            <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n-                            Create New CSV File\n-                        </div>\n-                        <div class=\"export-option-desc\">\n-                            Generate a new CSV file with extracted data\n-                        </div>\n-                    </label>\n-                </div>\n-\n-                <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n-                    <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n-                    <label for=\"export-existing\">\n-                        <div class=\"export-option-title\">\n-                            <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n-                            Append to Existing Excel/CSV\n-                        </div>\n-                        <div class=\"export-option-desc\">\n-                            Add data to an existing Excel or CSV file\n-                        </div>\n-                    </label>\n-                </div>\n-\n-                <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n-                    <label class=\"input-label\">Select Existing File</label>\n-                    <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n-                           accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n-                    <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n-                        <i class=\"fas fa-info-circle\"></i> \n-                        Supported formats: CSV, Excel (.xlsx, .xls)\n-                    </small>\n-                </div>\n-            </form>\n-        </div>\n-\n-        <div class=\"d-flex gap-3\">\n-            <button onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n-                <i class=\"fas fa-download\"></i>\n-                Export Data\n-            </button>\n-            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n-                <i class=\"fas fa-redo\"></i>\n-                Start Over\n-            </a>\n-        </div>\n-    @endif\n-</div>\n-\n-<script>\n-    function selectExportOption(type) {\n-        document.getElementById('export-' + type).checked = true;\n         \n-        const fileUploadSection = document.getElementById('file-upload-section');\n-        if (type === 'existing') {\n-            fileUploadSection.style.display = 'block';\n-        } else {\n-            fileUploadSection.style.display = 'none';\n+        // ÿ•ÿ∂ÿßŸÅÿ© type field\n+        let typeInput = form.querySelector('input[name=\"type\"]');\n+        if (!typeInput) {\n+            typeInput = document.createElement('input');\n+            typeInput.type = 'hidden';\n+            typeInput.name = 'type';\n+            form.appendChild(typeInput);\n         }\n+        typeInput.value = 'existing';\n+        \n+        form.submit();\n+    } else {\n+        // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ\n+        window.location.href = \"{{ route('pdf.export') }}?type=new\";\n     }\n+}\n \n     function exportData() {\n         const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n         const form = document.getElementById('export-form');\n@@ -272,9 +174,9 @@\n             form.appendChild(csrfInput);\n             \n             form.submit();\n         } else {\n-            window.location.href = \"{{ route(''pdf.extract'') }}?type=new\";\n+            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n         }\n     }\n </script>\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762477402827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,60 +99,18 @@\n     @endif\n </div>\n \n <script>\n- function selectExportOption(type) {\n-    document.getElementById('export-' + type).checked = true;\n-    \n-    const fileUploadSection = document.getElementById('file-upload-section');\n-    if (type === 'existing') {\n-        fileUploadSection.style.display = 'block';\n-    } else {\n-        fileUploadSection.style.display = 'none';\n-    }\n-}\n-\n-function exportData() {\n-    const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n-    const form = document.getElementById('export-form');\n-    \n-    if (exportType === 'existing') {\n-        const fileInput = document.getElementById('existing-file');\n-        if (!fileInput.files.length) {\n-            alert('Please select an existing file to append data to!');\n-            return;\n-        }\n+    function selectExportOption(type) {\n+        document.getElementById('export-' + type).checked = true;\n         \n-        // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÄ form ŸÑŸÑŸÄ POST\n-        form.action = \"{{ route('pdf.export') }}\";\n-        form.method = \"POST\";\n-        form.enctype = \"multipart/form-data\";\n-        \n-        // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n-        if (!form.querySelector('input[name=\"_token\"]')) {\n-            const csrfInput = document.createElement('input');\n-            csrfInput.type = 'hidden';\n-            csrfInput.name = '_token';\n-            csrfInput.value = '{{ csrf_token() }}';\n-            form.appendChild(csrfInput);\n+        const fileUploadSection = document.getElementById('file-upload-section');\n+        if (type === 'existing') {\n+            fileUploadSection.style.display = 'block';\n+        } else {\n+            fileUploadSection.style.display = 'none';\n         }\n-        \n-        // ÿ•ÿ∂ÿßŸÅÿ© type field\n-        let typeInput = form.querySelector('input[name=\"type\"]');\n-        if (!typeInput) {\n-            typeInput = document.createElement('input');\n-            typeInput.type = 'hidden';\n-            typeInput.name = 'type';\n-            form.appendChild(typeInput);\n-        }\n-        typeInput.value = 'existing';\n-        \n-        form.submit();\n-    } else {\n-        // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ\n-        window.location.href = \"{{ route('pdf.export') }}?type=new\";\n     }\n-}\n \n     function exportData() {\n         const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n         const form = document.getElementById('export-form');\n"
                },
                {
                    "date": 1762477461187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,165 @@\n+@extends('layouts.app')\n+\n+@section('content')\n+<div class=\"content-card\">\n+    @if(session('error'))\n+        <div class=\"modern-alert alert-danger\" style=\"margin-bottom: 1.5rem;\">\n+            <i class=\"fas fa-exclamation-circle\"></i>\n+            <div><strong>Error!</strong> {{ session('error') }}</div>\n+        </div>\n+    @endif\n+\n+    <h2 class=\"section-title\">\n+        <i class=\"fas fa-table\"></i>\n+        Extracted Data\n+    </h2>\n+\n+    @if(empty($extractedData) || count($extractedData) === 0)\n+        <div class=\"modern-alert alert-danger\">\n+            <i class=\"fas fa-exclamation-circle\"></i>\n+            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n+        </div>\n+    @else\n+        <div class=\"modern-table\">\n+            <table>\n+                <thead>\n+                    <tr>\n+                        @foreach(array_keys($extractedData[0]) as $header)\n+                            <th>{{ ucfirst($header) }}</th>\n+                        @endforeach\n+                    </tr>\n+                </thead>\n+                <tbody>\n+                    @foreach($extractedData as $row)\n+                        <tr>\n+                            @foreach($row as $key => $cell)\n+                                <td>\n+                                    @if($key === 'status')\n+                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n+                                            {{ $cell }}\n+                                        </span>\n+                                    @else\n+                                        {{ $cell }}\n+                                    @endif\n+                                </td>\n+                            @endforeach\n+                        </tr>\n+                    @endforeach\n+                </tbody>\n+            </table>\n+        </div>\n+\n+        <div class=\"export-options\">\n+            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n+                <i class=\"fas fa-file-export\"></i> Export Options\n+            </h5>\n+            \n+            <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n+                <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n+                <label for=\"export-new\">\n+                    <div class=\"export-option-title\">\n+                        <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n+                        Create New CSV File\n+                    </div>\n+                    <div class=\"export-option-desc\">\n+                        Generate a new CSV file with extracted data\n+                    </div>\n+                </label>\n+            </div>\n+\n+            <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n+                <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n+                <label for=\"export-existing\">\n+                    <div class=\"export-option-title\">\n+                        <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n+                        Append to Existing Excel/CSV\n+                    </div>\n+                    <div class=\"export-option-desc\">\n+                        Add data to an existing Excel or CSV file\n+                    </div>\n+                </label>\n+            </div>\n+\n+            <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n+                <label class=\"input-label\">Select Existing File</label>\n+                <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n+                       accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n+                <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n+                    <i class=\"fas fa-info-circle\"></i> \n+                    Supported formats: CSV, Excel (.xlsx, .xls)\n+                </small>\n+            </div>\n+        </div>\n+\n+        <div class=\"d-flex gap-3\">\n+            <button type=\"button\" onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n+                <i class=\"fas fa-download\"></i>\n+                Export Data\n+            </button>\n+            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-redo\"></i>\n+                Start Over\n+            </a>\n+        </div>\n+    @endif\n+</div>\n+\n+<script>\n+    function selectExportOption(type) {\n+        document.getElementById('export-' + type).checked = true;\n+        \n+        const fileUploadSection = document.getElementById('file-upload-section');\n+        if (type === 'existing') {\n+            fileUploadSection.style.display = 'block';\n+        } else {\n+            fileUploadSection.style.display = 'none';\n+        }\n+    }\n+\n+    function exportData() {\n+        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n+        \n+        if (exportType === 'existing') {\n+            const fileInput = document.getElementById('existing-file');\n+            if (!fileInput.files.length) {\n+                alert('Please select an existing file to append data to!');\n+                return;\n+            }\n+            \n+            // ÿ•ŸÜÿ¥ÿßÿ° form ŸÑŸÑŸÄ POST\n+            const form = document.createElement('form');\n+            form.method = 'POST';\n+            form.action = \"{{ route('pdf.export') }}\";\n+            form.enctype = 'multipart/form-data';\n+            \n+            // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n+            const csrfInput = document.createElement('input');\n+            csrfInput.type = 'hidden';\n+            csrfInput.name = '_token';\n+            csrfInput.value = '{{ csrf_token() }}';\n+            form.appendChild(csrfInput);\n+            \n+            // ÿ•ÿ∂ÿßŸÅÿ© type\n+            const typeInput = document.createElement('input');\n+            typeInput.type = 'hidden';\n+            typeInput.name = 'type';\n+            typeInput.value = 'existing';\n+            form.appendChild(typeInput);\n+            \n+            // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÑŸÅ\n+            const fileField = document.createElement('input');\n+            fileField.type = 'file';\n+            fileField.name = 'existing_file';\n+            fileField.files = fileInput.files;\n+            form.appendChild(fileField);\n+            \n+            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÄ form\n+            document.body.appendChild(form);\n+            form.submit();\n+        } else {\n+            // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ GET\n+            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n+        }\n+    }\n+</script>\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762477482633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,8 @@\n @extends('layouts.app')\n \n @section('content')\n <div class=\"content-card\">\n-    @if(session('error'))\n-        <div class=\"modern-alert alert-danger\" style=\"margin-bottom: 1.5rem;\">\n-            <i class=\"fas fa-exclamation-circle\"></i>\n-            <div><strong>Error!</strong> {{ session('error') }}</div>\n-        </div>\n-    @endif\n-\n     <h2 class=\"section-title\">\n         <i class=\"fas fa-table\"></i>\n         Extracted Data\n     </h2>\n@@ -53,166 +46,8 @@\n             <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n                 <i class=\"fas fa-file-export\"></i> Export Options\n             </h5>\n             \n-            <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n-                <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n-                <label for=\"export-new\">\n-                    <div class=\"export-option-title\">\n-                        <i class=\"fas fa-file-csv\" style=\"color: var(--success);\"></i>\n-                        Create New CSV File\n-                    </div>\n-                    <div class=\"export-option-desc\">\n-                        Generate a new CSV file with extracted data\n-                    </div>\n-                </label>\n-            </div>\n-\n-            <div class=\"export-option\" onclick=\"selectExportOption('existing')\">\n-                <input type=\"radio\" name=\"export_type\" value=\"existing\" id=\"export-existing\">\n-                <label for=\"export-existing\">\n-                    <div class=\"export-option-title\">\n-                        <i class=\"fas fa-file-excel\" style=\"color: var(--warning);\"></i>\n-                        Append to Existing Excel/CSV\n-                    </div>\n-                    <div class=\"export-option-desc\">\n-                        Add data to an existing Excel or CSV file\n-                    </div>\n-                </label>\n-            </div>\n-\n-            <div id=\"file-upload-section\" style=\"display: none; margin-top: 1rem;\">\n-                <label class=\"input-label\">Select Existing File</label>\n-                <input type=\"file\" name=\"existing_file\" id=\"existing-file\" \n-                       accept=\".csv,.xlsx,.xls\" class=\"modern-input\">\n-                <small style=\"color: #64748b; display: block; margin-top: 0.5rem;\">\n-                    <i class=\"fas fa-info-circle\"></i> \n-                    Supported formats: CSV, Excel (.xlsx, .xls)\n-                </small>\n-            </div>\n-        </div>\n-\n-        <div class=\"d-flex gap-3\">\n-            <button type=\"button\" onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n-                <i class=\"fas fa-download\"></i>\n-                Export Data\n-            </button>\n-            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n-                <i class=\"fas fa-redo\"></i>\n-                Start Over\n-            </a>\n-        </div>\n-    @endif\n-</div>\n-\n-<script>\n-    function selectExportOption(type) {\n-        document.getElementById('export-' + type).checked = true;\n-        \n-        const fileUploadSection = document.getElementById('file-upload-section');\n-        if (type === 'existing') {\n-            fileUploadSection.style.display = 'block';\n-        } else {\n-            fileUploadSection.style.display = 'none';\n-        }\n-    }\n-\n-    function exportData() {\n-        const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n-        \n-        if (exportType === 'existing') {\n-            const fileInput = document.getElementById('existing-file');\n-            if (!fileInput.files.length) {\n-                alert('Please select an existing file to append data to!');\n-                return;\n-            }\n-            \n-            // ÿ•ŸÜÿ¥ÿßÿ° form ŸÑŸÑŸÄ POST\n-            const form = document.createElement('form');\n-            form.method = 'POST';\n-            form.action = \"{{ route('pdf.export') }}\";\n-            form.enctype = 'multipart/form-data';\n-            \n-            // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n-            const csrfInput = document.createElement('input');\n-            csrfInput.type = 'hidden';\n-            csrfInput.name = '_token';\n-            csrfInput.value = '{{ csrf_token() }}';\n-            form.appendChild(csrfInput);\n-            \n-            // ÿ•ÿ∂ÿßŸÅÿ© type\n-            const typeInput = document.createElement('input');\n-            typeInput.type = 'hidden';\n-            typeInput.name = 'type';\n-            typeInput.value = 'existing';\n-            form.appendChild(typeInput);\n-            \n-            // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÑŸÅ\n-            const fileField = document.createElement('input');\n-            fileField.type = 'file';\n-            fileField.name = 'existing_file';\n-            fileField.files = fileInput.files;\n-            form.appendChild(fileField);\n-            \n-            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÄ form\n-            document.body.appendChild(form);\n-            form.submit();\n-        } else {\n-            // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ GET\n-            window.location.href = \"{{ route('pdf.export') }}?type=new\";\n-        }\n-    }\n-</script>\n-@endsection\n-@extends('layouts.app')\n-\n-@section('content')\n-<div class=\"content-card\">\n-    <h2 class=\"section-title\">\n-        <i class=\"fas fa-table\"></i>\n-        Extracted Data\n-    </h2>\n-\n-    @if(empty($extractedData) || count($extractedData) === 0)\n-        <div class=\"modern-alert alert-danger\">\n-            <i class=\"fas fa-exclamation-circle\"></i>\n-            <div><strong>No Data!</strong> No data was extracted from the PDFs.</div>\n-        </div>\n-    @else\n-        <div class=\"modern-table\">\n-            <table>\n-                <thead>\n-                    <tr>\n-                        @foreach(array_keys($extractedData[0]) as $header)\n-                            <th>{{ ucfirst($header) }}</th>\n-                        @endforeach\n-                    </tr>\n-                </thead>\n-                <tbody>\n-                    @foreach($extractedData as $row)\n-                        <tr>\n-                            @foreach($row as $key => $cell)\n-                                <td>\n-                                    @if($key === 'status')\n-                                        <span class=\"status-badge {{ strtolower($cell) === 'success' ? 'status-success' : 'status-error' }}\">\n-                                            {{ $cell }}\n-                                        </span>\n-                                    @else\n-                                        {{ $cell }}\n-                                    @endif\n-                                </td>\n-                            @endforeach\n-                        </tr>\n-                    @endforeach\n-                </tbody>\n-            </table>\n-        </div>\n-\n-        <div class=\"export-options\">\n-            <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n-                <i class=\"fas fa-file-export\"></i> Export Options\n-            </h5>\n-            \n             <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n                 <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n                     <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n                     <label for=\"export-new\">\n@@ -264,18 +99,67 @@\n     @endif\n </div>\n \n <script>\n-    function selectExportOption(type) {\n-        document.getElementById('export-' + type).checked = true;\n+ function selectExportOption(type) {\n+    document.getElementById('export-' + type).checked = true;\n+    \n+    const fileUploadSection = document.getElementById('file-upload-section');\n+    if (type === 'existing') {\n+        fileUploadSection.style.display = 'block';\n+    } else {\n+        fileUploadSection.style.display = 'none';\n+    }\n+}\n+\n+function exportData(event) {\n+    // ŸÖŸÜÿπ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä ŸÑŸÑŸÄ form\n+    if (event) {\n+        event.preventDefault();\n+    }\n+    \n+    const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n+    const form = document.getElementById('export-form');\n+    \n+    if (exportType === 'existing') {\n+        const fileInput = document.getElementById('existing-file');\n+        if (!fileInput.files.length) {\n+            alert('Please select an existing file to append data to!');\n+            return false;\n+        }\n         \n-        const fileUploadSection = document.getElementById('file-upload-section');\n-        if (type === 'existing') {\n-            fileUploadSection.style.display = 'block';\n-        } else {\n-            fileUploadSection.style.display = 'none';\n+        // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÄ form ŸÑŸÑŸÄ POST\n+        form.action = \"{{ route('pdf.export') }}\";\n+        form.method = \"POST\";\n+        form.setAttribute('enctype', 'multipart/form-data');\n+        \n+        // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n+        if (!form.querySelector('input[name=\"_token\"]')) {\n+            const csrfInput = document.createElement('input');\n+            csrfInput.type = 'hidden';\n+            csrfInput.name = '_token';\n+            csrfInput.value = '{{ csrf_token() }}';\n+            form.appendChild(csrfInput);\n         }\n+        \n+        // ÿ•ÿ∂ÿßŸÅÿ© type field\n+        let typeInput = form.querySelector('input[name=\"type\"]');\n+        if (!typeInput) {\n+            typeInput = document.createElement('input');\n+            typeInput.type = 'hidden';\n+            typeInput.name = 'type';\n+            form.appendChild(typeInput);\n+        }\n+        typeInput.value = 'existing';\n+        \n+        form.submit();\n+    } else {\n+        // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ\n+        window.location.href = \"{{ route('pdf.export') }}?type=new\";\n     }\n+    \n+    return false;\n+}\n \n     function exportData() {\n         const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n         const form = document.getElementById('export-form');\n"
                },
                {
                    "date": 1762477645822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,15 @@\n @extends('layouts.app')\n \n @section('content')\n <div class=\"content-card\">\n+    @if(session('error'))\n+        <div class=\"modern-alert alert-danger\" style=\"margin-bottom: 1.5rem;\">\n+            <i class=\"fas fa-exclamation-circle\"></i>\n+            <div><strong>Error!</strong> {{ session('error') }}</div>\n+        </div>\n+    @endif\n+\n     <h2 class=\"section-title\">\n         <i class=\"fas fa-table\"></i>\n         Extracted Data\n     </h2>\n@@ -46,9 +53,9 @@\n             <h5 style=\"font-weight: 700; color: var(--dark); margin-bottom: 1rem;\">\n                 <i class=\"fas fa-file-export\"></i> Export Options\n             </h5>\n             \n-            <form action=\"{{ route('pdf.export') }}\" method=\"GET\" id=\"export-form\">\n+            <div id=\"export-options-container\">\n                 <div class=\"export-option\" onclick=\"selectExportOption('new')\">\n                     <input type=\"radio\" name=\"export_type\" value=\"new\" id=\"export-new\" checked>\n                     <label for=\"export-new\">\n                         <div class=\"export-option-title\">\n@@ -82,13 +89,13 @@\n                         <i class=\"fas fa-info-circle\"></i> \n                         Supported formats: CSV, Excel (.xlsx, .xls)\n                     </small>\n                 </div>\n-            </form>\n+            </div>\n         </div>\n \n         <div class=\"d-flex gap-3\">\n-            <button onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n+            <button type=\"button\" onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n                 <i class=\"fas fa-download\"></i>\n                 Export Data\n             </button>\n             <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n@@ -99,90 +106,62 @@\n     @endif\n </div>\n \n <script>\n- function selectExportOption(type) {\n-    document.getElementById('export-' + type).checked = true;\n-    \n-    const fileUploadSection = document.getElementById('file-upload-section');\n-    if (type === 'existing') {\n-        fileUploadSection.style.display = 'block';\n-    } else {\n-        fileUploadSection.style.display = 'none';\n-    }\n-}\n-\n-function exportData(event) {\n-    // ŸÖŸÜÿπ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä ŸÑŸÑŸÄ form\n-    if (event) {\n-        event.preventDefault();\n-    }\n-    \n-    const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n-    const form = document.getElementById('export-form');\n-    \n-    if (exportType === 'existing') {\n-        const fileInput = document.getElementById('existing-file');\n-        if (!fileInput.files.length) {\n-            alert('Please select an existing file to append data to!');\n-            return false;\n-        }\n+    function selectExportOption(type) {\n+        document.getElementById('export-' + type).checked = true;\n         \n-        // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÄ form ŸÑŸÑŸÄ POST\n-        form.action = \"{{ route('pdf.export') }}\";\n-        form.method = \"POST\";\n-        form.setAttribute('enctype', 'multipart/form-data');\n-        \n-        // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n-        if (!form.querySelector('input[name=\"_token\"]')) {\n-            const csrfInput = document.createElement('input');\n-            csrfInput.type = 'hidden';\n-            csrfInput.name = '_token';\n-            csrfInput.value = '{{ csrf_token() }}';\n-            form.appendChild(csrfInput);\n+        const fileUploadSection = document.getElementById('file-upload-section');\n+        if (type === 'existing') {\n+            fileUploadSection.style.display = 'block';\n+        } else {\n+            fileUploadSection.style.display = 'none';\n         }\n-        \n-        // ÿ•ÿ∂ÿßŸÅÿ© type field\n-        let typeInput = form.querySelector('input[name=\"type\"]');\n-        if (!typeInput) {\n-            typeInput = document.createElement('input');\n-            typeInput.type = 'hidden';\n-            typeInput.name = 'type';\n-            form.appendChild(typeInput);\n-        }\n-        typeInput.value = 'existing';\n-        \n-        form.submit();\n-    } else {\n-        // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ\n-        window.location.href = \"{{ route('pdf.export') }}?type=new\";\n     }\n-    \n-    return false;\n-}\n \n     function exportData() {\n         const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n-        const form = document.getElementById('export-form');\n         \n         if (exportType === 'existing') {\n             const fileInput = document.getElementById('existing-file');\n             if (!fileInput.files.length) {\n                 alert('Please select an existing file to append data to!');\n                 return;\n             }\n             \n-            form.action = \"{{ route('pdf.export') }}?type=existing\";\n-            form.method = \"POST\";\n+            // ÿ•ŸÜÿ¥ÿßÿ° form ŸÑŸÑŸÄ POST\n+            const form = document.createElement('form');\n+            form.method = 'POST';\n+            form.action = \"{{ route('pdf.export') }}\";\n+            form.enctype = 'multipart/form-data';\n+            form.style.display = 'none';\n             \n+            // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n             const csrfInput = document.createElement('input');\n             csrfInput.type = 'hidden';\n             csrfInput.name = '_token';\n             csrfInput.value = '{{ csrf_token() }}';\n             form.appendChild(csrfInput);\n             \n+            // ÿ•ÿ∂ÿßŸÅÿ© type\n+            const typeInput = document.createElement('input');\n+            typeInput.type = 'hidden';\n+            typeInput.name = 'type';\n+            typeInput.value = 'existing';\n+            form.appendChild(typeInput);\n+            \n+            // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÑŸÅ\n+            const fileField = document.createElement('input');\n+            fileField.type = 'file';\n+            fileField.name = 'existing_file';\n+            fileField.files = fileInput.files;\n+            form.appendChild(fileField);\n+            \n+            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÄ form\n+            document.body.appendChild(form);\n             form.submit();\n         } else {\n+            // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ GET\n             window.location.href = \"{{ route('pdf.export') }}?type=new\";\n         }\n     }\n </script>\n"
                },
                {
                    "date": 1762477758226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,12 +97,16 @@\n             <button type=\"button\" onclick=\"exportData()\" class=\"modern-btn btn-success-modern\">\n                 <i class=\"fas fa-download\"></i>\n                 Export Data\n             </button>\n-            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n+            <a href=\"{{ route('pdf.fields') }}\" class=\"modern-btn btn-secondary-modern\">\n                 <i class=\"fas fa-redo\"></i>\n-                Start Over\n+                Extract Again\n             </a>\n+            <a href=\"{{ route('pdf.upload') }}\" class=\"modern-btn btn-secondary-modern\">\n+                <i class=\"fas fa-upload\"></i>\n+                Upload New PDFs\n+            </a>\n         </div>\n     @endif\n </div>\n \n"
                },
                {
                    "date": 1762478032891,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,44 +126,53 @@\n         const exportType = document.querySelector('input[name=\"export_type\"]:checked').value;\n         \n         if (exportType === 'existing') {\n             const fileInput = document.getElementById('existing-file');\n+            \n             if (!fileInput.files.length) {\n                 alert('Please select an existing file to append data to!');\n                 return;\n             }\n             \n-            // ÿ•ŸÜÿ¥ÿßÿ° form ŸÑŸÑŸÄ POST\n-            const form = document.createElement('form');\n-            form.method = 'POST';\n-            form.action = \"{{ route('pdf.export') }}\";\n-            form.enctype = 'multipart/form-data';\n-            form.style.display = 'none';\n+            console.log('File selected:', fileInput.files[0].name);\n             \n-            // ÿ•ÿ∂ÿßŸÅÿ© CSRF token\n-            const csrfInput = document.createElement('input');\n-            csrfInput.type = 'hidden';\n-            csrfInput.name = '_token';\n-            csrfInput.value = '{{ csrf_token() }}';\n-            form.appendChild(csrfInput);\n+            // ÿ•ŸÜÿ¥ÿßÿ° FormData ŸÑŸÑÿ•ÿ±ÿ≥ÿßŸÑ\n+            const formData = new FormData();\n+            formData.append('_token', '{{ csrf_token() }}');\n+            formData.append('type', 'existing');\n+            formData.append('existing_file', fileInput.files[0]);\n             \n-            // ÿ•ÿ∂ÿßŸÅÿ© type\n-            const typeInput = document.createElement('input');\n-            typeInput.type = 'hidden';\n-            typeInput.name = 'type';\n-            typeInput.value = 'existing';\n-            form.appendChild(typeInput);\n+            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿπÿ®ÿ± fetch ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ŸàÿµŸàŸÑ ÿßŸÑŸÖŸÑŸÅ\n+            fetch('{{ route(\"pdf.export\") }}', {\n+                method: 'POST',\n+                body: formData\n+            })\n+            .then(response => {\n+                if (!response.ok) {\n+                    return response.text().then(text => {\n+                        throw new Error('Server error: ' + text);\n+                    });\n+                }\n+                return response.blob();\n+            })\n+            .then(blob => {\n+                // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ\n+                const url = window.URL.createObjectURL(blob);\n+                const a = document.createElement('a');\n+                a.href = url;\n+                a.download = 'merged_data_' + new Date().getTime() + '.csv';\n+                document.body.appendChild(a);\n+                a.click();\n+                window.URL.revokeObjectURL(url);\n+                a.remove();\n+                \n+                alert('File merged and downloaded successfully!');\n+            })\n+            .catch(error => {\n+                console.error('Export error:', error);\n+                alert('Failed to export: ' + error.message);\n+            });\n             \n-            // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÑŸÅ\n-            const fileField = document.createElement('input');\n-            fileField.type = 'file';\n-            fileField.name = 'existing_file';\n-            fileField.files = fileInput.files;\n-            form.appendChild(fileField);\n-            \n-            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÄ form\n-            document.body.appendChild(form);\n-            form.submit();\n         } else {\n             // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ GET\n             window.location.href = \"{{ route('pdf.export') }}?type=new\";\n         }\n"
                },
                {
                    "date": 1762478300579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,19 +140,39 @@\n             formData.append('_token', '{{ csrf_token() }}');\n             formData.append('type', 'existing');\n             formData.append('existing_file', fileInput.files[0]);\n             \n-            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿπÿ®ÿ± fetch ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ŸàÿµŸàŸÑ ÿßŸÑŸÖŸÑŸÅ\n+            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿπÿ®ÿ± fetch\n             fetch('{{ route(\"pdf.export\") }}', {\n                 method: 'POST',\n                 body: formData\n             })\n             .then(response => {\n+                console.log('Response status:', response.status);\n+                console.log('Response headers:', [...response.headers.entries()]);\n+                \n                 if (!response.ok) {\n-                    return response.text().then(text => {\n-                        throw new Error('Server error: ' + text);\n+                    return response.json().then(data => {\n+                        throw new Error(data.error || 'Server error');\n+                    }).catch(err => {\n+                        // ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ JSONÿå ÿßŸÇÿ±ÿ£ ŸÉŸÄ text\n+                        return response.text().then(text => {\n+                            console.error('Response text:', text);\n+                            throw new Error('Server error: ' + response.status);\n+                        });\n                     });\n                 }\n+                \n+                const contentType = response.headers.get('content-type');\n+                console.log('Content-Type:', contentType);\n+                \n+                // ÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑÿ±ÿØ JSON (ÿÆÿ∑ÿ£) ÿ£Ÿà CSV (ŸÜÿ¨ÿßÿ≠)\n+                if (contentType && contentType.includes('application/json')) {\n+                    return response.json().then(data => {\n+                        throw new Error(data.error || 'Unknown error');\n+                    });\n+                }\n+                \n                 return response.blob();\n             })\n             .then(blob => {\n                 // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ\n"
                },
                {
                    "date": 1762479151731,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,9 +192,8 @@\n                 alert('Failed to export: ' + error.message);\n             });\n             \n         } else {\n-            // ŸÑŸÑŸÖŸÑŸÅ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ GET\n             window.location.href = \"{{ route('pdf.export') }}?type=new\";\n         }\n     }\n </script>\n"
                },
                {
                    "date": 1762479158630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -174,9 +174,8 @@\n                 \n                 return response.blob();\n             })\n             .then(blob => {\n-                // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ\n                 const url = window.URL.createObjectURL(blob);\n                 const a = document.createElement('a');\n                 a.href = url;\n                 a.download = 'merged_data_' + new Date().getTime() + '.csv';\n"
                },
                {
                    "date": 1762479165572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,9 +153,8 @@\n                 if (!response.ok) {\n                     return response.json().then(data => {\n                         throw new Error(data.error || 'Server error');\n                     }).catch(err => {\n-                        // ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ JSONÿå ÿßŸÇÿ±ÿ£ ŸÉŸÄ text\n                         return response.text().then(text => {\n                             console.error('Response text:', text);\n                             throw new Error('Server error: ' + response.status);\n                         });\n@@ -164,9 +163,8 @@\n                 \n                 const contentType = response.headers.get('content-type');\n                 console.log('Content-Type:', contentType);\n                 \n-                // ÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑÿ±ÿØ JSON (ÿÆÿ∑ÿ£) ÿ£Ÿà CSV (ŸÜÿ¨ÿßÿ≠)\n                 if (contentType && contentType.includes('application/json')) {\n                     return response.json().then(data => {\n                         throw new Error(data.error || 'Unknown error');\n                     });\n"
                },
                {
                    "date": 1762479173514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,15 +134,13 @@\n             }\n             \n             console.log('File selected:', fileInput.files[0].name);\n             \n-            // ÿ•ŸÜÿ¥ÿßÿ° FormData ŸÑŸÑÿ•ÿ±ÿ≥ÿßŸÑ\n             const formData = new FormData();\n             formData.append('_token', '{{ csrf_token() }}');\n             formData.append('type', 'existing');\n             formData.append('existing_file', fileInput.files[0]);\n             \n-            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿπÿ®ÿ± fetch\n             fetch('{{ route(\"pdf.export\") }}', {\n                 method: 'POST',\n                 body: formData\n             })\n"
                }
            ],
            "date": 1762470733777,
            "name": "Commit-0",
            "content": "@extends('layouts.app')\n\n@section('content')\n<div class=\"container\">\n    <h2 class=\"mb-4\">Extracted Data</h2>\n\n    @if(empty($extractedData) || count($extractedData) === 0)\n        <div class=\"alert alert-warning\">No data extracted yet.</div>\n    @else\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    @foreach (array_keys($extractedData[0]) as $header)\n                        <th>{{ ucfirst($header) }}</th>\n                    @endforeach\n                </tr>\n            </thead>\n            <tbody>\n                @foreach ($extractedData as $row)\n                    <tr>\n                        @foreach ($row as $cell)\n                            <td>{{ $cell }}</td>\n                        @endforeach\n                    </tr>\n                @endforeach\n            </tbody>\n        </table>\n\n        <a href=\"{{ route('pdf.export') }}\" class=\"btn btn-success mt-3\">Export to CSV</a>\n    @endif\n</div>\n@endsection\n"
        }
    ]
}